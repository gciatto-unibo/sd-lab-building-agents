<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="508px" preserveAspectRatio="none" style="width:343px;height:508px;" version="1.1" viewBox="0 0 343 508" width="343px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cbgwbii05tmy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1cbgwbii05tmy)" height="220.6354" style="stroke: #000000; stroke-width: 2.0;" width="239" x="92" y="183.2673"/><rect fill="#FFFFFF" height="54.7899" style="stroke: none; stroke-width: 1.0;" width="239" x="92" y="240.3854"/><rect fill="#FFFFFF" height="54.7899" style="stroke: none; stroke-width: 1.0;" width="239" x="92" y="295.1753"/><rect fill="#FFFFFF" height="53.9375" style="stroke: none; stroke-width: 1.0;" width="239" x="92" y="349.9652"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="86.2969" y2="420.9027"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="125" x2="125" y1="86.2969" y2="420.9027"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="8" y="82.9951">Client code</text><ellipse cx="50" cy="13" fill="#FEFECE" filter="url(#f1cbgwbii05tmy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M50,21 L50,48 M37,29 L63,29 M50,48 L37,63 M50,48 L63,63 " fill="none" filter="url(#f1cbgwbii05tmy)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="8" y="432.8978">Client code</text><ellipse cx="50" cy="446.1996" fill="#FEFECE" filter="url(#f1cbgwbii05tmy)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M50,454.1996 L50,481.1996 M37,462.1996 L63,462.1996 M50,481.1996 L37,496.1996 M50,481.1996 L63,496.1996 " fill="none" filter="url(#f1cbgwbii05tmy)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="102" y="82.9951">Agent</text><ellipse cx="125.5" cy="54" fill="#FEFECE" filter="url(#f1cbgwbii05tmy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="121.5,42,127.5,37,125.5,42,127.5,47,121.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="102" y="432.8978">Agent</text><ellipse cx="125.5" cy="452.1996" fill="#FEFECE" filter="url(#f1cbgwbii05tmy)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="121.5,440.1996,127.5,435.1996,125.5,440.1996,127.5,445.1996,121.5,440.1996" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125.5" x2="167.5" y1="115.2821" y2="115.2821"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167.5" x2="167.5" y1="115.2821" y2="128.2821"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126.5" x2="167.5" y1="128.2821" y2="128.2821"/><polygon fill="#A80036" points="136.5,124.2821,126.5,128.2821,136.5,132.2821,132.5,128.2821" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="132.5" y="112.4965">onRun()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125.5" x2="167.5" y1="155.2673" y2="155.2673"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167.5" x2="167.5" y1="155.2673" y2="168.2673"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126.5" x2="167.5" y1="168.2673" y2="168.2673"/><polygon fill="#A80036" points="136.5,164.2673,126.5,168.2673,136.5,172.2673,132.5,168.2673" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="132.5" y="151.9818">R</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="148.5" y="152.4817">= onUncaughtError(...)</text><path d="M92,183.2673 L156,183.2673 L156,190.2673 L146,200.2673 L92,200.2673 L92,183.2673 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="220.6354" style="stroke: #000000; stroke-width: 2.0;" width="239" x="92" y="183.2673"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="107" y="196.3342">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="171" y="195.4778">[</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="176" y="196.9844">R</text><text fill="#000000" font-family="monospace" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="190" y="196.9789">== AndThen.</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="267" y="196.9844">CONTINUE</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="321" y="195.4778">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125.5" x2="167.5" y1="219.3854" y2="219.3854"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167.5" x2="167.5" y1="219.3854" y2="232.3854"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126.5" x2="167.5" y1="232.3854" y2="232.3854"/><polygon fill="#A80036" points="136.5,228.3854,126.5,232.3854,136.5,236.3854,132.5,232.3854" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="132.5" y="216.5998">onRun()</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92" x2="331" y1="241.3854" y2="241.3854"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="97" y="251.5958">[</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="102" y="253.1024">R</text><text fill="#000000" font-family="monospace" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="116" y="253.0969">== AndThen.</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="193" y="253.1024">RESTART</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="241" y="251.5958">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125.5" x2="167.5" y1="274.1753" y2="274.1753"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167.5" x2="167.5" y1="274.1753" y2="287.1753"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126.5" x2="167.5" y1="287.1753" y2="287.1753"/><polygon fill="#A80036" points="136.5,283.1753,126.5,287.1753,136.5,291.1753,132.5,287.1753" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="132.5" y="271.3897">onBegin()</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92" x2="331" y1="296.1753" y2="296.1753"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="97" y="306.3857">[</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="102" y="307.8923">R</text><text fill="#000000" font-family="monospace" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="116" y="307.8868">== AndThen.</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="193" y="307.8923">STOP</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="219" y="306.3857">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125.5" x2="167.5" y1="328.9652" y2="328.9652"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167.5" x2="167.5" y1="328.9652" y2="341.9652"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126.5" x2="167.5" y1="341.9652" y2="341.9652"/><polygon fill="#A80036" points="136.5,337.9652,126.5,341.9652,136.5,345.9652,132.5,341.9652" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="132.5" y="326.1796">onEnd()</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="92" x2="331" y1="350.9652" y2="350.9652"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="97" y="361.1757">[</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="102" y="362.6823">R</text><text fill="#000000" font-family="monospace" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="116" y="362.6768">== AndThen.</text><text fill="#000000" font-family="monospace" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="193" y="362.6823">PAUSE</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="226" y="361.1757">]</text><path d="M130,369.7699 L130,394.7699 L221,394.7699 L221,379.7699 L211,369.7699 L130,369.7699 " fill="#FBFB77" filter="url(#f1cbgwbii05tmy)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M211,369.7699 L211,379.7699 L221,379.7699 L211,369.7699 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="136" y="386.8368">Do nothing</text><!--MD5=[840ad39b900d0bbe92c11675300ab120]
@startuml
actor "Client code" as C
control "Agent" as A

A -> A : ""onRun()""

A -> A : ""**//R//** = onUncaughtError(...)""

alt ""**//R//** == AndThen.//CONTINUE//""

A -> A : ""onRun()""

else ""**//R//** == AndThen.//RESTART//""

A -> A : ""onBegin()""

else ""**//R//** == AndThen.//STOP//""

A -> A : ""onEnd()""

else ""**//R//** == AndThen.//PAUSE//""

note right of A
Do nothing
end note

end
@enduml

PlantUML version 1.2019.11(Sun Sep 22 10:02:15 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>